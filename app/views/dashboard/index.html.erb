<div class ='dashboard_page'>
  <div class ='User-info'>
    <div class ='profile picture'>
  <%= cl_image_tag @user.photo.key, style: "width: 280px; height: 280px; object-fit: cover; border-radius: 24px; margin: 10px 10px 0 10px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);" %>
    </div>

    <div class ='user-details'>
      <h2> <%= @user.name %> | <%= @user.age %> | <%= @user.gender %></h2>
      <h2> <%= @user.description%> <%= @user.location %>
    </div>
  </div>


  <h2>PENDING REQUESTS</h2>
  <% @pending_requests.each do |request| %>
   <p><%= request.booking_date %> | <%= request.user.name %> | <%= request.activity.name %> </p>

   <%= simple_form_for request do |f| %>
   <%= f.input :status, as: :hidden, input_html: {value: 'accepted'} %>
   <%= f.submit 'Accept', class: "btn btn-primary"  %>
   <% end %>

   <%= simple_form_for request do |f| %>
   <%= f.input :status, as: :hidden, input_html: {value: 'declined'} %>
   <%= f.submit 'Decline', class: "btn btn-danger"  %>
   <% end %>
   <% end %>


  <div class ='links'>
    <h2>CONFIRMED ACTIVITIES</h2>
    <% if @confirmed_requests.present?%>
    <% @confirmed_requests.each do |booking| %>
    <p><%= booking.booking_date %> | <%= booking.activity.user.name %> | <%= booking.activity.name %> </p>
    <% end %>
    <% else %>
    <p>No upcoming bookings.</p>
    <% end %>

    <h2>UPCOMING RENTALS</h2>
    <% if @hosted_rentals.present? %>
    <% @hosted_rentals.each do |rental| %>
    <p><%= rental.booking_date %> | <%= rental.user.name %> | <%= rental.activity.name %> </p>
      <% end %>
    <% else %>
    <p>No upcoming rentals.</p>
    <% end %>
  </div>
</div>
